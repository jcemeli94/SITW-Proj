<html>
  <head>

    <!-- Load jQuery from Google's CDN -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>

    <!-- Load Soundcloud SDK -->
    <script src="https://connect.soundcloud.com/sdk/sdk-3.0.0.js"></script>


  </head>
  <body>

	<button id="ok" onclick="myFunction()"> CREATE</button>

   		<h1>Tracklist Random</h1>
   		 <div id="status">DOM Loading...</div>

   		<h1>ID:</h1>
   		 <div id="id">DOM Loading...</div>

<div id="container">DOM Loading...</div>
  </body>


  <script type="text/javascript">

/* initialize soundcloud API with key */
SC.initialize({
    /* This is the sample client_id. you should replace this with your own*/
    client_id: "887b335a80f3e625454ebca548c53d96"
});



  function myFunction() {


      var trackList = ""
      var trackListId = ""
      var finalcontainer = ""
      var track_valida = 0


      for (var i = 0; i < 5; i++) {
          //while (track_valida < 5) {
              id_track = Math.floor(Math.random() * (210000000 - 8000000 + 1)) + 8000000;


              SC.get("/tracks/" + id_track + "?client_id=887b335a80f3e625454ebca548c53d96").then(function (track) {


                  trackList += track.title + "<br />";
                  trackListId += track.id + "<br />";
                  finalcontainer += '<iframe width="100%" height="166" scrolling="no" frameborder="no"src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/' + track.id + '&amp;color=0066cc"></iframe>' + '<br />';

                  //track_valida = track_valida + 1;
                  $("#status").html(trackList);
                  $("#id").html(trackListId);
                  $("#container").html(finalcontainer);
              });
          }
     // }
  }

  myFunction();

</script>
</html>
